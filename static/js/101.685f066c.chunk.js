"use strict";(self.webpackChunkhealth_monitor=self.webpackChunkhealth_monitor||[]).push([[101],{31313:(e,n,r)=>{r.d(n,{A:()=>t});var s=r(65043);const t=(e,n)=>{const[r,t]=(0,s.useState)(e),[a,i]=(0,s.useState)({});return{fields:r,setFields:t,errors:a,validateFields:()=>{const e=n(r);return i(e),0===Object.keys(e).length}}}},32461:(e,n,r)=>{r.d(n,{A:()=>i});r(65043);var s=r(58387);const t={inputContainer:"Input_inputContainer__wOEyk",input:"Input_input__XbaoR",inputCenter:"Input_inputCenter__xDESs",inputInfo:"Input_inputInfo__zGyqR"};var a=r(70579);function i(e){let{type:n,placeholder:r,required:i,variant:o="",className:l,name:u,handleChange:c,width:d,value:p,paddingLeft:m,autoComplete:h,handleBlur:_,min:g=0,step:v}=e;return(0,a.jsx)("div",{style:{width:d||"auto"},className:t.inputContainer,children:(0,a.jsx)("input",{step:v,min:g,autoComplete:h||"off",style:{paddingLeft:m||"0px"},onChange:c,name:u||"",className:(0,s.A)(t.input,l,"center"===o?t.inputCenter:t.input),type:n||"text",placeholder:r||"",required:i||!1,value:p||"",onBlur:_})})}},85101:(e,n,r)=>{r.r(n),r.d(n,{default:()=>w});var s=r(65043),t=r(89379),a=r(71870),i=r(83003),o=r(35475),l=r(32461),u=r(48838),c=r(83910),d=r(97929),p=r(35659),m=r(55340),h=r(31313);const _=e=>{const n={};return e.email||(n.email="Email is required"),e.password||(n.password="Password is required"),n};var g=r(92870),v=r(26276),x=r(58387),f=r(91036);const j={form:"LoginForm_form__G8ipB",inputWrapper:"LoginForm_inputWrapper__I6dHS",inputIcon:"LoginForm_inputIcon__piCnE",inputError:"LoginForm_inputError__8hVn4",eyeIcon:"LoginForm_eyeIcon__xcA8g",errorCont:"LoginForm_errorCont__POAgx",error:"LoginForm_error__n7gLs",buttonsContainer:"LoginForm_buttonsContainer__W6rs9",button:"LoginForm_button__JRwFr",navLink:"LoginForm_navLink__Xn+R0"};var y=r(70579);const L=function(){const{fields:e,setFields:n,validateFields:r}=(0,h.A)({email:"",password:""},_),{user:L,isLoggedIn:N}=(0,v.A)(),{touched:A,handleBlur:C}=(0,g.A)(e),[w,I]=(0,s.useState)(""),b=(0,i.wA)(),[F,k]=(0,m.A)(!1);return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),r())try{await b((0,a.E8)(e)).unwrap(),f.oR.success("Login successful!")}catch(s){I("You have entered an invalid username or password.")}},className:j.form,children:[(0,y.jsxs)("div",{className:j.inputContainer,children:[(0,y.jsxs)("div",{className:j.inputWrapper,children:[(0,y.jsx)(c.g,{icon:d.y_8,className:j.inputIcon}),(0,y.jsx)(l.A,{autoComplete:"on",paddingLeft:"53.5px",width:"100%",type:"email",value:e.email,handleChange:r=>{n((0,t.A)((0,t.A)({},e),{},{email:r.target.value}))},handleBlur:C("email"),placeholder:"Email *",required:!0})]}),A.email&&!e.email&&(0,y.jsx)("p",{className:j.inputError,children:"Required"})]}),(0,y.jsxs)("div",{className:j.inputContainer,children:[(0,y.jsxs)("div",{className:j.inputWrapper,children:[(0,y.jsx)(c.g,{icon:d.DW4,className:j.inputIcon}),F?(0,y.jsx)(p.iWd,{onClick:()=>{k()},size:"24px",className:j.eyeIcon}):(0,y.jsx)(p.gZ8,{onClick:()=>{k()},size:"24px",className:j.eyeIcon}),(0,y.jsx)(l.A,{autoComplete:"on",paddingLeft:"53.5px",width:"100%",type:F?"text":"password",value:e.password,handleChange:r=>{n((0,t.A)((0,t.A)({},e),{},{password:r.target.value}))},handleBlur:C("password"),placeholder:"Password",required:!0})]}),A.password&&e.password.length<6&&(0,y.jsx)("p",{className:j.inputError,children:"Password must be at least 6 characters!"})]}),(0,y.jsxs)("div",{className:j.buttonsContainer,children:[(0,y.jsx)(u.A,{variant:"colored",type:"submit",children:"Log in"}),(0,y.jsx)(o.N_,{to:"/register",className:j.navLink,children:(0,y.jsx)(u.A,{className:j.button,type:"button",children:"Register"})}),w&&(0,y.jsx)("p",{className:j.error,children:w})]}),null!==L&&!N&&(0,y.jsxs)("div",{className:j.errorCont,children:[(0,y.jsx)("p",{className:j.error,children:"It seems that your email is not verified! Please click the Verify button to be redirected to verify email page !"}),(0,y.jsx)(u.A,{children:(0,y.jsx)(o.N_,{to:"/verify-email",className:(0,x.A)(j.navLink,j.link),children:"Verify"})})]})]})})},N={section:"LoginPage_section__cu7W2",title:"LoginPage_title__uKsXJ",errorMessage:"LoginPage_errorMessage__ODIjA"};var A=r(19095),C=r(8266);function w(){const{isLoggedIn:e,user:n,errorAuth:r}=(0,v.A)(),{error:t}=(0,A.d)(),a=(0,i.wA)();return(0,s.useEffect)(()=>{(e||null!==n&&void 0!==n&&n.verify)&&f.oR.success("Login successful!")},[e,null===n||void 0===n?void 0:n.verify]),(0,s.useEffect)(()=>("Not authorized"===t&&setTimeout(()=>{a((0,C.hO)())},5e3),()=>{clearTimeout()}),[a,t]),(0,y.jsxs)("section",{className:N.section,children:[(0,y.jsx)("h2",{className:N.title,children:"Log In"}),("Not authorized"===t||r)&&(0,y.jsx)("div",{className:N.errorMessage,children:(0,y.jsx)("p",{children:"For reasons of personal data security, your authorization has expired. If you want to continue, please log in again. Thank you for understanding!"})}),(0,y.jsx)(L,{})]})}},92870:(e,n,r)=>{r.d(n,{A:()=>a});var s=r(89379),t=r(65043);const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[n,r]=(0,t.useState)(Object.keys(e).reduce((e,n)=>(e[n]=!1,e),{}));return{touched:n,handleBlur:e=>()=>{r(n=>(0,s.A)((0,s.A)({},n),{},{[e]:!0}))}}}}}]);
//# sourceMappingURL=101.685f066c.chunk.js.map