{"version":3,"file":"static/js/948.dbdee10c.chunk.js","mappings":"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","sources":["webpack://health-monitor/./src/components/DiaryAddForm/DiaryAddForm.module.css?e0d3","components/DiaryAddForm/DiaryAddForm.jsx","webpack://health-monitor/./src/pages/DiaryPage/DiaryPage.module.css?a519","pages/DiaryPage/DiaryPage.jsx","redux/public/selectorsPublic.js","hooks/usePublic.js","webpack://health-monitor/./src/components/LoginStatistics/LoginStatistics.module.css?05df","components/LoginStatistics/LoginStatistics.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"inputsContainer\":\"DiaryAddForm_inputsContainer__Im2qZ\",\"input\":\"DiaryAddForm_input__V8mQm\",\"name\":\"DiaryAddForm_name__7pQz8\",\"quantity\":\"DiaryAddForm_quantity__nv97q\"};","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { useMediaQuery } from \"react-responsive\";\r\n\r\nimport styles from \"./DiaryAddForm.module.css\";\r\nimport Button from \"../commonComponents/Button\";\r\nimport clsx from \"clsx\";\r\nimport { usePublic } from \"../../hooks/usePublic\";\r\nimport { fetchProducts } from \"../../redux/public/operationsPublic\";\r\n\r\nconst breakpoints = {\r\n  mobile: \"(max-width: 767px)\",\r\n  tablet: \"(min-width:768px)\",\r\n  desktop: \"(min-width:1024px)\",\r\n};\r\n\r\nfunction DiaryAddForm({\r\n  searchTerm,\r\n  setSearchTerm,\r\n  filteredProducts,\r\n  quantity,\r\n  setQuantity,\r\n  handleAddProduct,\r\n  handleProductsForSelectedDate,\r\n  date,\r\n}) {\r\n  const isMobile = useMediaQuery({ query: breakpoints.mobile });\r\n  const { dispatch } = usePublic();\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchProducts());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div className={styles.inputsContainer}>\r\n      <input\r\n        className={clsx(styles.input, styles.name)}\r\n        type=\"text\"\r\n        value={searchTerm}\r\n        onChange={(e) => setSearchTerm(e.target.value)}\r\n        list=\"productList\"\r\n        placeholder=\"Search product name *\"\r\n      />\r\n      <datalist id=\"productList\">\r\n        {filteredProducts.map((product) => (\r\n          <option key={product._id} value={product.title}>\r\n            {\" \"}\r\n            {/* Use the title */}\r\n            {product.title}\r\n          </option>\r\n        ))}\r\n      </datalist>\r\n\r\n      <input\r\n        className={clsx(styles.input, styles.quantity)}\r\n        type=\"number\"\r\n        min=\"0\"\r\n        value={quantity}\r\n        onChange={(e) => setQuantity(e.target.value)}\r\n        placeholder=\"Grams *\"\r\n        step={50}\r\n      />\r\n\r\n      {!isMobile && (\r\n        <Button\r\n          variant=\"plusButton\"\r\n          handleClick={() => {\r\n            handleAddProduct();\r\n            handleProductsForSelectedDate(date);\r\n          }}\r\n          disabled={!date || !searchTerm || !quantity}\r\n        >\r\n          +\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nDiaryAddForm.propTypes = {\r\n  searchTerm: PropTypes.string,\r\n  setSearchTerm: PropTypes.func,\r\n  filteredProducts: PropTypes.array,\r\n  quantity: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  setQuantity: PropTypes.func,\r\n  handleAddProduct: PropTypes.func,\r\n  handleProductsForSelectedDate: PropTypes.func,\r\n  date: PropTypes.string,\r\n};\r\n\r\nexport default DiaryAddForm;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"closeButton\":\"DiaryPage_closeButton__WK8l8\",\"closeModal\":\"DiaryPage_closeModal__mem1q\",\"mobileHeaderCont\":\"DiaryPage_mobileHeaderCont__taRYy\",\"modalHeader\":\"DiaryPage_modalHeader__0ByAL\",\"logoHeaderContainer\":\"DiaryPage_logoHeaderContainer__VpG9l\",\"mobileSubHeaderCont\":\"DiaryPage_mobileSubHeaderCont__OztNL\",\"modalLogoutActionCenter\":\"DiaryPage_modalLogoutActionCenter__4iI6i\",\"modalUserLogoutCont\":\"DiaryPage_modalUserLogoutCont__3Nmn+\",\"section\":\"DiaryPage_section__A6yCX\",\"calculatorCont\":\"DiaryPage_calculatorCont__iZ6Hr\",\"diaryPage\":\"DiaryPage_diaryPage__NO2ul\",\"datePicker\":\"DiaryPage_datePicker__PsEmJ\",\"icon\":\"DiaryPage_icon__-Yp1C\",\"productList\":\"DiaryPage_productList__81vAv\",\"productRow\":\"DiaryPage_productRow__AxJTo\",\"right\":\"DiaryPage_right__GYQGq\",\"name\":\"DiaryPage_name__2ETGh\",\"quantity\":\"DiaryPage_quantity__70yCm\",\"calories\":\"DiaryPage_calories__0155A\",\"delete\":\"DiaryPage_delete__zgc+k\",\"noProducts\":\"DiaryPage_noProducts__Hiy3Z\",\"plusButton\":\"DiaryPage_plusButton__HwpCJ\",\"errorMessage\":\"DiaryPage_errorMessage__7cFS2\",\"leftCont\":\"DiaryPage_leftCont__j8S0P\"};","import React, { useState, useEffect } from \"react\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\n\r\nimport { fetchProducts } from \"../../redux/public/operationsPublic\";\r\nimport {\r\n  addConsumedProductForSpecificDay,\r\n  deleteConsumedProductForSpecificDay,\r\n  fetchConsumedProductsForSpecificDay,\r\n} from \"../../redux/private/operationsPrivate\";\r\n\r\nimport { usePublic } from \"../../hooks/usePublic\";\r\nimport { usePrivate } from \"../../hooks/usePrivate\";\r\n\r\nimport LoginStatistics from \"../../components/LoginStatistics/LoginStatistics\";\r\nimport Logo from \"../../components/Logo/Logo\";\r\n\r\nimport NavLinks from \"../../components/NavLinks/NavLinks\";\r\n\r\nimport { FiCalendar } from \"react-icons/fi\";\r\n\r\nimport DiaryAddForm from \"../../components/DiaryAddForm/DiaryAddForm\";\r\nimport Button from \"../../components/commonComponents/Button\";\r\n\r\nimport useToggle from \"../../hooks/useToggle\";\r\nimport Modal from \"../../components/commonComponents/Modal/Modal\";\r\nimport UserLogout from \"../../components/UserLogout/UserLogout\";\r\nimport UpdateUser from \"../../components/UpdateUser\";\r\n\r\nimport styles from \"./DiaryPage.module.css\";\r\n\r\nconst breakpoints = {\r\n  mobile: \"(max-width: 767px)\",\r\n  tablet: \"(min-width:768px)\",\r\n  desktop: \"(min-width:1024px)\",\r\n};\r\n\r\nexport default function DiaryPage() {\r\n  const isMobile = useMediaQuery({ query: breakpoints.mobile });\r\n  const isDesktop = useMediaQuery({ query: breakpoints.desktop });\r\n\r\n  const { products, dispatch } = usePublic();\r\n  const { privateDispatch, consumedProducts } = usePrivate();\r\n\r\n  const [isDiaryMobileModalVisible, toggleisDiaryMobileModalVisible] =\r\n    useToggle(false);\r\n  // console.log(\"consumedProducts:\", consumedProducts);\r\n\r\n  useEffect(() => {\r\n    if (isDiaryMobileModalVisible) {\r\n      document.body.classList.add(styles.noScroll);\r\n    } else {\r\n      document.body.classList.remove(styles.noScroll);\r\n    }\r\n\r\n    const handleEscapeKey = (event) => {\r\n      if (event.key === \"Escape\") toggleisDiaryMobileModalVisible();\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handleEscapeKey);\r\n\r\n    return () => {\r\n      document.body.classList.remove(styles.noScroll);\r\n      document.removeEventListener(\"keydown\", handleEscapeKey);\r\n    };\r\n  }, [isDiaryMobileModalVisible, toggleisDiaryMobileModalVisible]);\r\n\r\n  function handleOpenModal() {\r\n    toggleisDiaryMobileModalVisible();\r\n  }\r\n\r\n  const today = new Date().toISOString().split(\"T\")[0];\r\n\r\n  const [date, setDate] = useState(today);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [quantity, setQuantity] = useState(\"\");\r\n  // console.log(\"date:\", date);\r\n  // console.log(\"quantity:\", quantity);\r\n  // console.log(\"searchTerm:\", searchTerm);\r\n\r\n  const [userUpdateShown, setUserUpdateShown] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (products.length === 0) {\r\n      dispatch(fetchProducts());\r\n    }\r\n  }, [dispatch, products]);\r\n\r\n  useEffect(() => {\r\n    privateDispatch(fetchConsumedProductsForSpecificDay({ date: date }));\r\n  }, [privateDispatch, date]);\r\n\r\n  const allProducts = Array.isArray(products.data) ? products.data.flat() : [];\r\n  const filteredProducts = allProducts.filter((product) =>\r\n    product.title.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n  // console.log(\"products:\", products);\r\n\r\n  // console.log(\"allProducts:\", allProducts);\r\n\r\n  // console.log(\"filteredProducts:\", filteredProducts);\r\n\r\n  const handleAddProduct = () => {\r\n    if (searchTerm && quantity) {\r\n      privateDispatch(\r\n        addConsumedProductForSpecificDay({\r\n          product: searchTerm,\r\n          date,\r\n          quantity,\r\n        })\r\n      );\r\n      setSearchTerm(\"\");\r\n      setQuantity(\"\");\r\n    }\r\n  };\r\n\r\n  const handleDeleteProduct = (product, date) => {\r\n    const productId = (productTitle) => {\r\n      const foundProduct = allProducts.find(\r\n        (item) => item.title === productTitle\r\n      );\r\n      // console.log(\"Found product:\", foundProduct);\r\n\r\n      if (foundProduct) {\r\n        // console.log(\"found\");\r\n        // console.log(foundProduct._id);\r\n\r\n        return foundProduct._id; // Return the product's ID\r\n      }\r\n      // console.log(\"not found\");\r\n\r\n      return null;\r\n    };\r\n\r\n    // console.log('delete');\r\n\r\n    const id = productId(product);\r\n    // console.log(id);\r\n\r\n    privateDispatch(\r\n      deleteConsumedProductForSpecificDay({ productId: id, date })\r\n    );\r\n    handleProductsForSelectedDate(date);\r\n  };\r\n\r\n  function handleProductsForSelectedDate(date) {\r\n    setTimeout(() => {\r\n      privateDispatch(fetchConsumedProductsForSpecificDay({ date: date }));\r\n    }, 1000);\r\n  }\r\n\r\n  function formatToDisplayDate(date) {\r\n    const [year, month, day] = date.split(\"-\");\r\n    return `${day}.${month}.${year}`;\r\n  }\r\n\r\n  const handleUpdateUser = () => {\r\n    setUserUpdateShown(true);\r\n  };\r\n\r\n  return (\r\n    <section className={styles.section}>\r\n      {isDiaryMobileModalVisible && isMobile && (\r\n        <div className={styles.modalOverlay}>\r\n          <div className={styles.modalContent}>\r\n            <Modal\r\n              closeButton={styles.closeButton}\r\n              handleModalClose={toggleisDiaryMobileModalVisible}\r\n              isModalVisible={isDiaryMobileModalVisible}\r\n            >\r\n              {isMobile && (\r\n                <div className={styles.mobileHeaderCont}>\r\n                  {userUpdateShown && (\r\n                    <UpdateUser\r\n                      theme={\"light\"}\r\n                      onClose={() => setUserUpdateShown(false)}\r\n                    />\r\n                  )}\r\n                  <header className={styles.modalHeader}>\r\n                    <Logo className={styles.logoHeaderContainer} />\r\n                    <NavLinks />\r\n                  </header>\r\n                  <div className={styles.mobileSubHeaderCont}>\r\n                    <button\r\n                      onClick={toggleisDiaryMobileModalVisible}\r\n                      className={styles.mobileHeaderExitButton}\r\n                    >\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        width=\"15\"\r\n                        height=\"9\"\r\n                        viewBox=\"0 0 15 9\"\r\n                        fill=\"none\"\r\n                      >\r\n                        <path\r\n                          d=\"M14 1.5V4.5H2M2 4.5L5.5 1M2 4.5L5.5 8\"\r\n                          stroke=\"black\"\r\n                          strokeWidth=\"2\"\r\n                        />\r\n                      </svg>\r\n                    </button>\r\n                    <div className={styles.modalUserLogoutCont}>\r\n                      <UserLogout handleUpdateUserClick={handleUpdateUser} />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              <div className={styles.modalLogoutActionCenter}>\r\n                <DiaryAddForm\r\n                  searchTerm={searchTerm}\r\n                  setSearchTerm={setSearchTerm}\r\n                  filteredProducts={filteredProducts}\r\n                  quantity={quantity}\r\n                  setQuantity={setQuantity}\r\n                  handleAddProduct={handleAddProduct}\r\n                  handleProductsForSelectedDate={handleProductsForSelectedDate}\r\n                  date={date}\r\n                />\r\n\r\n                <Button\r\n                  id=\"closeModal\"\r\n                  handleClick={() => {\r\n                    toggleisDiaryMobileModalVisible();\r\n                    handleAddProduct();\r\n                    handleProductsForSelectedDate(date);\r\n                  }}\r\n                >\r\n                  Add\r\n                </Button>\r\n              </div>\r\n            </Modal>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className={styles.calculatorCont}>\r\n        {isDesktop && (\r\n          <div className={styles.leftCont}>\r\n            <Logo />\r\n            <NavLinks />\r\n          </div>\r\n        )}\r\n\r\n        <div className={styles.diaryPage}>\r\n          <div className={styles.datePicker}>\r\n            <input\r\n              type=\"date\"\r\n              value={date}\r\n              onChange={(e) => setDate(e.target.value)}\r\n              placeholder=\"Select Date\"\r\n              max={new Date().toISOString().split(\"T\")[0]}\r\n              className=\"custom-date-picker\"\r\n            />\r\n            <FiCalendar className={styles.icon} />\r\n          </div>\r\n\r\n          {!isMobile && (\r\n            <DiaryAddForm\r\n              searchTerm={searchTerm}\r\n              setSearchTerm={setSearchTerm}\r\n              filteredProducts={filteredProducts}\r\n              quantity={quantity}\r\n              setQuantity={setQuantity}\r\n              handleAddProduct={handleAddProduct}\r\n              handleProductsForSelectedDate={handleProductsForSelectedDate}\r\n              date={date}\r\n            />\r\n          )}\r\n\r\n          <ul className={styles.productList}>\r\n            {consumedProducts.length > 0 ? (\r\n              consumedProducts.map((product, index) => (\r\n                <li key={index} className={styles.productRow}>\r\n                  <span className={styles.name}>\r\n                    {product?.productName\r\n                      ? product?.productName\r\n                      : product.product}\r\n                  </span>\r\n                  <div className={styles.right}>\r\n                    <span className={styles.quantity}>{product.quantity}g</span>\r\n                    <span className={styles.calories}>\r\n                      {product.calories}\r\n                      kcal\r\n                    </span>\r\n                    <button\r\n                      className={styles.delete}\r\n                      onClick={() => {\r\n                        handleDeleteProduct(product.product, date);\r\n                      }}\r\n                    >\r\n                      X\r\n                    </button>\r\n                  </div>\r\n                </li>\r\n              ))\r\n            ) : (\r\n              <p className={styles.noProducts}>\r\n                There are no products consumed on the selected date !\r\n              </p>\r\n            )}\r\n          </ul>\r\n\r\n          {isMobile && (\r\n            <Button\r\n              handleClick={handleOpenModal}\r\n              className={styles.plusButton}\r\n              variant=\"plusButton\"\r\n            >\r\n              +\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <LoginStatistics day={formatToDisplayDate(date)} />\r\n    </section>\r\n  );\r\n}\r\n","import { createSelector } from \"reselect\";\r\n\r\n// Basic selector to get the slice of state\r\nconst selectPublicCalculatorState = (state) => state.publicCalculatorSlice;\r\n\r\n// Memoized selector for formData\r\nexport const selectFormData = createSelector(\r\n  [selectPublicCalculatorState],\r\n  (publicCalculatorSlice) => ({\r\n    height: publicCalculatorSlice.height,\r\n    age: publicCalculatorSlice.age,\r\n    currentWeight: publicCalculatorSlice.currentWeight,\r\n    desiredWeight: publicCalculatorSlice.desiredWeight,\r\n    bloodGroupIndex: publicCalculatorSlice.bloodGroupIndex,\r\n  })\r\n);\r\n\r\nexport const selectResult = (state) => state.publicCalculatorSlice.result;\r\nexport const selectLoading = (state) => state.publicCalculatorSlice.loading;\r\nexport const selectError = (state) => state.publicCalculatorSlice.error;\r\nexport const selectProducts = (state) => state.publicCalculatorSlice.products;\r\nexport const selectProduct = (state) => state.publicCalculatorSlice.product;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  selectError,\r\n  selectFormData,\r\n  selectLoading,\r\n  selectResult,\r\n  selectProducts,\r\n  selectProduct,\r\n} from \"../redux/public/selectorsPublic\";\r\n\r\nexport const usePublic = () => {\r\n  const dispatch = useDispatch(); // Add dispatch for triggering actions\r\n  const formData = useSelector(selectFormData);\r\n  const isLoading = useSelector(selectLoading);\r\n  const errorPublic = useSelector(selectError);\r\n  const result = useSelector(selectResult);\r\n  const products = useSelector(selectProducts);\r\n  const product = useSelector(selectProduct);\r\n\r\n  return {\r\n    formData,\r\n    isLoading,\r\n    errorPublic,\r\n    result,\r\n    products,\r\n    product,\r\n    dispatch, // Include dispatch in the returned object\r\n  };\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"resultsCont\":\"LoginStatistics_resultsCont__Vt4lV\",\"statisticCont\":\"LoginStatistics_statisticCont__phv4g\",\"resultsToday\":\"LoginStatistics_resultsToday__MzgPS\",\"statisticList\":\"LoginStatistics_statisticList__IVeY-\",\"statisticListItem\":\"LoginStatistics_statisticListItem__88+qJ\",\"statisticListItemSpan\":\"LoginStatistics_statisticListItemSpan__EqB4e\",\"notRecommendedCont\":\"LoginStatistics_notRecommendedCont__6X8Iy\",\"notRecommendedTitle\":\"LoginStatistics_notRecommendedTitle__5uxxS\",\"notRecommendedList\":\"LoginStatistics_notRecommendedList__VB0oQ\",\"notRecommendedEmpty\":\"LoginStatistics_notRecommendedEmpty__gmso7\",\"statisticSuperCont\":\"LoginStatistics_statisticSuperCont__1i+lh\",\"notRecommendedListItem\":\"LoginStatistics_notRecommendedListItem__lQM8L\"};","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { useMediaQuery } from \"react-responsive\";\r\n\r\nimport UpdateUser from \"../UpdateUser\";\r\nimport UserLogout from \"../UserLogout/UserLogout\";\r\n\r\nimport { useAuth } from \"../../hooks/useAuth\";\r\nimport { usePrivate } from \"../../hooks/usePrivate\";\r\n\r\nimport styles from \"./LoginStatistics.module.css\";\r\n\r\nconst breakpoints = {\r\n  mobile: \"(max-width: 767px)\",\r\n  tablet: \"(min-width:768px)\",\r\n  desktop: \"(min-width:1024px)\",\r\n};\r\n\r\nfunction LoginStatistics({ day }) {\r\n  const isDesktop = useMediaQuery({ query: breakpoints.desktop });\r\n  const { user } = useAuth();\r\n  const { dailyCalorieSummary } = usePrivate();\r\n\r\n  const [userUpdateShown, setUserUpdateShown] = useState(false);\r\n\r\n  // Validate the format dd-mm-yyyy\r\n  const isValidDate = /^\\d{2}.\\d{2}.\\d{4}$/.test(day);\r\n  if (!isValidDate) {\r\n    console.error(`Invalid date format: ${day}. Expected dd.mm.yyyy.`);\r\n  }\r\n\r\n  const handleUpdateUser = () => {\r\n    setUserUpdateShown(true);\r\n    console.log(\"click !!!\");\r\n  };\r\n\r\n  return (\r\n    <div className={styles.resultsCont}>\r\n      {userUpdateShown && (\r\n        <UpdateUser theme={\"light\"} onClose={() => setUserUpdateShown(false)} />\r\n      )}\r\n      {isDesktop && <UserLogout handleUpdateUserClick={handleUpdateUser} />}\r\n      <div className={styles.statisticSuperCont}>\r\n        <div className={styles.statisticCont}>\r\n          <p className={styles.resultsToday}>Summary for {day}</p>\r\n          <ul className={styles.statisticList}>\r\n            <li key=\"left\" className={styles.statisticListItem}>\r\n              <span className={styles.statisticListItemSpan}>Left</span>\r\n              <span className={styles.statisticListItemSpan}>\r\n                {dailyCalorieSummary?.remainingCalories !== 0\r\n                  ? dailyCalorieSummary.remainingCalories\r\n                  : \"000\"}{\" \"}\r\n                kcal\r\n              </span>\r\n            </li>\r\n            <li key=\"consumed\" className={styles.statisticListItem}>\r\n              <span className={styles.statisticListItemSpan}>Consumed</span>\r\n              <span className={styles.statisticListItemSpan}>\r\n                {dailyCalorieSummary?.totalCaloriesConsumed > 0\r\n                  ? dailyCalorieSummary.totalCaloriesConsumed\r\n                  : \"000\"}{\" \"}\r\n                kcal\r\n              </span>\r\n            </li>\r\n            <li key=\"daily\" className={styles.statisticListItem}>\r\n              <span className={styles.statisticListItemSpan}>Daily rate</span>\r\n              <span className={styles.statisticListItemSpan}>\r\n                {dailyCalorieSummary?.dailyCalorieIntake > 0\r\n                  ? dailyCalorieSummary.dailyCalorieIntake\r\n                  : \"000\"}{\" \"}\r\n                kcal\r\n              </span>{\" \"}\r\n            </li>\r\n            <li key=\"normal\" className={styles.statisticListItem}>\r\n              <span className={styles.statisticListItemSpan}>n% of normal</span>\r\n              <span\r\n                style={{ marginBottom: \"4px\" }}\r\n                className={styles.statisticListItemSpan}\r\n              >\r\n                {dailyCalorieSummary?.percentageCaloriesConsumed > 0\r\n                  ? dailyCalorieSummary.percentageCaloriesConsumed\r\n                  : \"0\"}{\" \"}\r\n                %\r\n              </span>{\" \"}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className={styles.notRecommendedCont}>\r\n          <p className={styles.notRecommendedTitle}>Food not recommended</p>\r\n          {user?.dietaryInfo?.restrictedAliments?.length > 0 ? (\r\n            <ul className={styles.notRecommendedList}>\r\n              {user.dietaryInfo.restrictedAliments.map((aliment) => (\r\n                <li\r\n                  key={aliment?._id}\r\n                  className={styles.notRecommendedListItem}\r\n                >\r\n                  {aliment.title}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          ) : (\r\n            <p className={styles.notRecommendedEmpty}>\r\n              Your diet will be displayed here\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nLoginStatistics.propTypes = {\r\n  day: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default LoginStatistics;\r\n"],"names":["breakpoints","_ref","searchTerm","setSearchTerm","filteredProducts","quantity","setQuantity","handleAddProduct","handleProductsForSelectedDate","date","isMobile","useMediaQuery","query","dispatch","usePublic","useEffect","fetchProducts","_jsxs","className","styles","children","_jsx","clsx","type","value","onChange","e","target","list","placeholder","id","map","product","title","_id","min","step","Button","variant","handleClick","disabled","mobile","tablet","desktop","DiaryPage","isDesktop","products","privateDispatch","consumedProducts","usePrivate","isDiaryMobileModalVisible","toggleisDiaryMobileModalVisible","useToggle","document","body","classList","add","noScroll","remove","handleEscapeKey","event","key","addEventListener","removeEventListener","today","Date","toISOString","split","setDate","useState","userUpdateShown","setUserUpdateShown","length","fetchConsumedProductsForSpecificDay","allProducts","Array","isArray","data","flat","filter","toLowerCase","includes","addConsumedProductForSpecificDay","setTimeout","section","modalOverlay","modalContent","Modal","closeButton","handleModalClose","isModalVisible","mobileHeaderCont","UpdateUser","theme","onClose","modalHeader","Logo","logoHeaderContainer","NavLinks","mobileSubHeaderCont","onClick","mobileHeaderExitButton","xmlns","width","height","viewBox","fill","d","stroke","strokeWidth","modalUserLogoutCont","UserLogout","handleUpdateUserClick","handleUpdateUser","modalLogoutActionCenter","DiaryAddForm","calculatorCont","leftCont","diaryPage","datePicker","max","FiCalendar","icon","productList","index","productRow","name","productName","right","calories","delete","handleDeleteProduct","productTitle","foundProduct","find","item","productId","deleteConsumedProductForSpecificDay","noProducts","plusButton","LoginStatistics","day","year","month","concat","formatToDisplayDate","selectFormData","createSelector","state","publicCalculatorSlice","age","currentWeight","desiredWeight","bloodGroupIndex","selectResult","result","selectLoading","loading","selectError","error","selectProducts","selectProduct","useDispatch","formData","useSelector","isLoading","errorPublic","_user$dietaryInfo","_user$dietaryInfo$res","user","useAuth","dailyCalorieSummary","test","console","log","remainingCalories","totalCaloriesConsumed","dailyCalorieIntake","style","marginBottom","percentageCaloriesConsumed","dietaryInfo","restrictedAliments","aliment"],"sourceRoot":""}